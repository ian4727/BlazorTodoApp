<input class="todo-input" @bind="newTodo" @onkeydown="@(e => AddTodo(e))" placeholder="What needs to be done" @focus="@(() => newTodo = "")"/>

@code {
    [Parameter]
    public List<TodoItem>? Todos { get; set; }

    [Parameter]
    public EventCallback<List<TodoItem>> TodosChanged { get; set; }

    private string newTodo = "";

    private async Task AddTodo(KeyboardEventArgs e)
    {
        if (e.Key == "Enter" && !string.IsNullOrWhiteSpace(newTodo))
        {
            var updatedTodos = new List<TodoItem>(Todos); // Create a new instance of the list
            updatedTodos.Add(new TodoItem { Title = newTodo }); // Add the new todo item
            newTodo = string.Empty;
            await TodosChanged.InvokeAsync(updatedTodos); // Invoke the callback with the updated list
        }
    }
}
