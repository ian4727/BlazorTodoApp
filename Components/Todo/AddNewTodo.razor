<input
    class="bg-white border-solid border-pink-800 h-65 italic mb-8 items-center"
    @bind="newTodo"
    @onkeydown="AddTodo"
    placeholder="What needs to be done"
    @focus="@(() => newTodo = "")"
/>

@code {
    [Parameter]
    public List<TodoItem>? Todos { get; set; }

    [Parameter]
    public EventCallback<List<TodoItem>> TodosChanged { get; set; }

    private string newTodo = "";

    private async void AddTodo(KeyboardEventArgs e)
    {
        if (e.Key == "Enter" && !string.IsNullOrWhiteSpace(newTodo))
        {
            List<TodoItem> updatedTodos = [..Todos]; // Create a new instance of the list
            updatedTodos.Add(new TodoItem { Title = newTodo }); // Add the new todo item
            newTodo = string.Empty;
            await TodosChanged.InvokeAsync(updatedTodos); // Invoke the callback with the updated list
        }
    }
}
